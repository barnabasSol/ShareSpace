@page "/profile"
@using System.Security.Claims;

@layout UserLayout
<div class="w-100 d-flex flex-column align-items-center pl-2 noscrollbar">
    <MudCard>
        <MudCardMedia Image="/Assets/avatar_night_in_the_woods.jpg" Height="200" />
        <MudCardContent Class="" Style="background: rgb(27, 27, 27);">
            <div class="d-flex flex-column align-items-center">
                @if (claims!.FirstOrDefault(c => c.Type == "Name")!.Value.Length >= 9)
                {
                    <h3 style="color:white;">
                        @claims!.FirstOrDefault(c => c.Type == "Name")!.Value.Substring(0, 9)...
                    </h3>
                }
                else
                {
                    <h3 style="color:white;">
                        @claims!.FirstOrDefault(c => c.Type == "Name")!.Value
                    </h3>
                }
                @if (claims!.FirstOrDefault(c => c.Type == "UserName")!.Value.Length >= 9)
                {
                    <h6 style="color: rgb(185, 183, 183);">
                        &#64;@claims!.FirstOrDefault(c => c.Type == "UserName")!.Value.Substring(0, 9)...
                    </h6>
                }
                else
                {
                    <h6 style="color: rgb(185, 183, 183);">
                        &#64;@claims!.FirstOrDefault(c => c.Type == "UserName")!.Value
                    </h6>
                }

            </div>
            <div class="d-flex justify-content-between">
                <div class="d-flex flex-column align-items-center">
                    <h5 style="color: white">70</h5>
                    <h5 style="color: rgb(185, 183, 183);">Followers</h5>
                </div>
                <div class="d-flex flex-column align-items-center">
                    <h5 style="color: white;">70</h5>
                    <h5 style="color: rgb(185, 183, 183);">Following</h5>
                </div>
            </div>
            <MudText Typo="Typo.body2">Old paint found on a stone house door.</MudText>
            <MudText Typo="Typo.body2">This photo was taken in a small village in Istra Croatia.</MudText>
        </MudCardContent>
        <MudCardActions Class="d-flex justify-content-center" Style="background: rgb(27, 27, 27);">
            <MudButton Variant="Variant.Outlined" Color="Color.Secondary">Check My Profile</MudButton>
        </MudCardActions>
    </MudCard>

    <div class="mt-3">
        <MudDivider Style="color: white;" DividerType="DividerType.Middle" Class="my-1" />
        <h4 style="color: white; position: sticky; top: 0;">Interests</h4>
        <MudChip Color="Color.Info">Info</MudChip>
        <MudChip Color="Color.Success">Success</MudChip>
        <MudChip Color="Color.Warning">Warning</MudChip>
        <MudChip Color="Color.Error">Error</MudChip>
        <MudChip Color="Color.Dark">Dark</MudChip>
    </div>
</div>

@code {
    [Parameter]
    public IEnumerable<Claim>? claims { get; set; }
}
